(this["webpackJsonpgoit-react-hw-04-images"]=this["webpackJsonpgoit-react-hw-04-images"]||[]).push([[0],{12:function(e,t,a){},23:function(e,t,a){e.exports={button:"button_button__KwoG9"}},24:function(e,t,a){e.exports={loader:"react-spinner-loader_loader__1zSW-",spin:"react-spinner-loader_spin__3hUPZ"}},25:function(e,t,a){e.exports={style:"btn_style__Er1aQ"}},4:function(e,t,a){e.exports={container:"gallery_container__1z56u",box:"gallery_box__1ZIPx",list:"gallery_list__17XQ1",el:"gallery_el__2IUc7"}},5:function(e,t,a){e.exports={input:"style-bar_input__1a76q",button:"style-bar_button__2MwUz",sentform:"style-bar_sentform__2JKbc",header:"style-bar_header__1KDtv"}},56:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(22),r=a.n(c),n=a(10),o=a(23),l=a.n(o),i=a(0);var b=e=>Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("button",{onClick:e.onClick,className:l.a.button,type:"submit",children:e.children})}),j=a(6),u=a.n(j);var p=e=>{let{button:t,onClickPictures:a}=e;Object(s.useEffect)((()=>{window.addEventListener("keydown",(e=>{"Escape"===e.code&&t()}))}),[t]);const{user:c,webformatURL:r}=a;return Object(i.jsx)("div",{className:u.a.popup,children:Object(i.jsx)("div",{className:u.a.overlay,children:Object(i.jsxs)("div",{className:u.a.formBody,children:[Object(i.jsx)(b,{clasName:u.a.close,onClick:t,children:"x"}),Object(i.jsx)("img",{src:r,alt:c,loading:"eager"}),Object(i.jsx)("p",{children:Object(i.jsxs)("i",{children:["Name photo is ",c]})})]})})})};class d extends s.Component{render(){const e=document.getElementById("another-root");return Object(i.jsx)(i.Fragment,{children:Object(n.createPortal)(Object(i.jsx)(p,{button:this.props.onActive,onClickPictures:this.props.onClick}),e)})}}var h=a(4),m=a.n(h);const _=e=>{let{onShow:t,items:a,error:s,Children:c}=e;const r=a.map((e=>{let{id:a,user:s,largeImageURL:c,webformatURL:r}=e;return Object(i.jsx)("div",{className:m.a.box,children:Object(i.jsx)("ul",{className:m.a.list,onClick:()=>t({user:s,webformatURL:r}),children:Object(i.jsx)("li",{className:m.a.el,children:Object(i.jsx)("img",{src:c,alt:s,loading:"lazy"})})})},a)}));return Object(i.jsxs)("div",{className:m.a.distance,children:[s&&console.log("\u0412\u0438\u043d\u0438\u043a\u043b\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430, c\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 \u043f\u0456\u0437\u043d\u0456\u0448\u0435"),Object(i.jsx)("div",{className:m.a.container,children:Boolean(a.length)&&r}),c]})};var x=_;_.defaultProps={items:[],searchName:""};var O=a(5),g=a.n(O);var v=e=>{let{onSubmit:t}=e;const[a,c]=Object(s.useState)({search:""});return Object(i.jsx)("header",{className:g.a.searchbar,children:Object(i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),""!==a.search?(t(a.search),c("")):alert("\u0424\u043e\u0442\u043e ".concat(a.search," \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u043b\u0438\u0441\u044f"))},className:g.a.form,children:[Object(i.jsx)("button",{type:"submit",className:g.a.button,children:Object(i.jsx)("span",{className:g.a.buttonLabel,children:"Search"})}),Object(i.jsx)("label",{htmlFor:"searchPhoto",children:Object(i.jsx)("input",{className:g.a.input,type:"text",name:"search",id:"searchPhoto",placeholder:"Search images and photos",onChange:e=>{c({search:e.currentTarget.value.toLowerCase()})}})})]})})},f=a(24),y=a.n(f);class N extends s.Component{render(){return Object(i.jsx)("div",{className:y.a.loader})}}var w=a(25),S=a.n(w);var C=e=>{let{loadPage:t}=e;return Object(i.jsx)("button",{className:S.a.style,onClick:()=>t(),children:"Load More"})},k=(a(12),a(26)),L=a.n(k);var P=()=>{const[e,t]=Object(s.useState)(""),[a,c]=Object(s.useState)({}),[r,n]=Object(s.useState)(!1),[o,l]=Object(s.useState)(!1),[b,j]=Object(s.useState)([]),[u,p]=Object(s.useState)(null),[h,m]=Object(s.useState)(1);return Object(s.useEffect)((()=>{L.a.get("https://pixabay.com/api/?key=26335917-be25fd704b1936d7f202ea389&q=".concat(e,"&page=").concat(h,"&per_page=15&image_type=photo")).then((e=>{let{data:t}=e;j((e=>[...e,...t.hits]))})).catch((e=>{p(!0),console.log(e.message)}))}),[e,h]),Object(i.jsxs)("div",{children:[Object(i.jsx)(v,{onSubmit:t}),r&&Object(i.jsx)(d,{onActive:()=>{n(!r)},onClick:a}),o?Object(i.jsx)(N,{}):Object(i.jsx)(x,{items:b,error:u,onLoader:()=>{l(!o)},onShow:e=>{let{user:t,webformatURL:a}=e;c({user:t,webformatURL:a}),n(!0)},onActive:()=>{n(!r)}}),Object(i.jsx)(C,{onClick:()=>{m((e=>e.page+1))}})]})};r.a.createRoot(document.getElementById("root")).render(Object(i.jsx)(P,{}))},6:function(e,t,a){e.exports={popup:"popup_popup__187gA",overlay:"popup_overlay__3qBsA",formBody:"popup_formBody__2KBZx",close:"popup_close__3GAaa",active:"popup_active__2qW9a",inactive:"popup_inactive__12I7J"}}},[[56,1,2]]]);
//# sourceMappingURL=main.b0b9b949.chunk.js.map