(this["webpackJsonpgoit-react-hw-04-images"]=this["webpackJsonpgoit-react-hw-04-images"]||[]).push([[0],{153:function(e,t,a){"use strict";a.r(t);var o=a(2),s=a.n(o),n=a(72),c=a.n(n),r=a(47),l=a(73),i=a.n(l),p=a(0);var d=e=>Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("button",{onClick:e.onClick,className:i.a.button,type:"submit",children:e.children})}),b=a(23),m=a.n(b);class h extends o.Component{render(){return Object(p.jsx)("div",{className:m.a.popup,children:Object(p.jsx)("div",{className:m.a.overlay,children:Object(p.jsxs)("div",{className:m.a.formBody,children:[Object(p.jsx)(d,{clasName:m.a.close,onClick:this.props.button,children:"x"}),Object(p.jsx)("img",{src:"",alt:"",loading:"eager"})]})})})}}class j extends o.Component{render(){const e=document.getElementById("another-root");return Object(p.jsx)(p.Fragment,{children:Object(r.createPortal)(Object(p.jsx)(h,{button:this.props.onActive}),e)})}}var u=a(16),g=a.n(u);class _ extends o.Component{render(){const{onShow:e,items:t,error:a}=this.props,o=t.map((t=>{let{id:a,largeImageURL:o,webformatURL:s,tags:n}=t;return Object(p.jsx)("div",{onClick:()=>e({largeImageURL:o,tags:n}),className:g.a.box,children:Object(p.jsx)("ul",{className:g.a.list,children:Object(p.jsx)("li",{className:g.a.el,children:Object(p.jsx)("img",{src:s,alt:n})})})},a)}));return Object(p.jsxs)("div",{className:g.a.distance,children:[a&&console.log("\u0412\u0438\u043d\u0438\u043a\u043b\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430, c\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 \u043f\u0456\u0437\u043d\u0456\u0448\u0435"),Object(p.jsx)("div",{className:g.a.container,children:t.length&&o}),this.props.children]})}}_.defaultProps={searchName:""};var x=a(17),O=a.n(x);var v=()=>{const[e,t]=Object(o.useState)({pool:""});return Object(p.jsx)("header",{className:O.a.searchbar,children:Object(p.jsxs)("form",{onSubmit:t=>{t.preventDefault(),""!==e.pool?(void 0).props.onSubmit(e.pool):alert("\u0424\u043e\u0442\u043e ".concat(e.pool," \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u043b\u0438\u0441\u044f"))},className:O.a.form,children:[Object(p.jsx)("button",{type:"submit",className:O.a.button,children:Object(p.jsx)("span",{className:O.a.buttonLabel,children:"Search"})}),Object(p.jsx)("label",{htmlFor:"searchPhoto",children:Object(p.jsx)("input",{className:O.a.input,type:"text",name:"pool",id:"searchPhoto",placeholder:"Search images and photos",onChange:e=>{t({pool:e.currentTarget.value.toLowerCase()})}})})]})})},f=a(74),y=a.n(f);class w extends o.Component{render(){return Object(p.jsx)("div",{className:y.a.loader})}}a(50);var N=a(48),L=a.n(N);a(104);var S=()=>{const[e,t]=Object(o.useState)({pool:"",modalImages:{},showModal:!1,isLoading:!1,items:[],error:null,page:6,isLoading:!1});Object(o.useEffect)((()=>{L.a.get("https://pixabay.com/api/?key=26335917-be25fd704b1936d7f202ea389&q=pool&page=".concat(e.page,"&per_page=12&image_type=photo")).then((e=>{let{data:a}=e;t({items:a.hits})})).catch((e=>console.log(e.messages)))}),[]),Object(o.useEffect)((()=>{window.addEventListener("keydown",(e=>{"Escape"===e.code&&(void 0).onToggleModal()}))}),[]),Object(o.useEffect)((()=>{L.a.get("https://pixabay.com/api/?key=26335917-be25fd704b1936d7f202ea389&q=".concat(e.pool,"&page=").concat(e.page,"&per_page=12&image_type=photo")).then((e=>{let{data:a}=e;t({items:a.hits})})).catch((e=>(void 0).setState({error:e.message})))}),[e.page,e.pool]);const{items:a,showModal:s,error:n,isLoading:c}=e;return Object(p.jsxs)("div",{children:[Object(p.jsx)(v,{onSubmit:e=>{t({pool:e})}}),s&&Object(p.jsx)(j,{onActive:()=>{t((e=>({showModal:!e})))}}),c?Object(p.jsx)(w,{}):Object(p.jsx)(_,{items:a,error:n,onLoader:e=>{t({isLoading:!e})},onBox:()=>{t((e=>({showModal:!e})))},onShow:e=>{let{largeImageURL:a,tags:o}=e;t({showModal:!0,modalImages:{largeImageURL:a,tags:o}})},children:Object(p.jsx)("button",{className:"btn",onClick:e=>{t({page:e.page+1})},children:"Load More"})})]})};c.a.createRoot(document.getElementById("root")).render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(S,{})}))},16:function(e,t,a){e.exports={container:"gallery_container__1z56u",box:"gallery_box__1ZIPx",list:"gallery_list__17XQ1",el:"gallery_el__2IUc7"}},17:function(e,t,a){e.exports={input:"style-bar_input__1a76q",button:"style-bar_button__2MwUz",sentform:"style-bar_sentform__2JKbc",header:"style-bar_header__1KDtv"}},23:function(e,t,a){e.exports={popup:"popup_popup__187gA",overlay:"popup_overlay__3qBsA",formBody:"popup_formBody__2KBZx",close:"popup_close__3GAaa",active:"popup_active__2qW9a",inactive:"popup_inactive__12I7J"}},50:function(e,t,a){},73:function(e,t,a){e.exports={button:"button_button__KwoG9"}},74:function(e,t,a){e.exports={loader:"react-spinner-loader_loader__1zSW-",spin:"react-spinner-loader_spin__3hUPZ"}}},[[153,1,2]]]);
//# sourceMappingURL=main.c515284d.chunk.js.map